"use strict";function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){return t.__proto__=a,t})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function a(){var i,n=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!==_typeof(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/*
 * A open source pagination plugin using pure Javascript.
 * v1.0.0
 *
 * @copyright	Copyright (c) 2023 Robiul H.
 * @license	MIT License; see LICENSE.txt
 */ 
var Paginate=function(){function e(){_classCallCheck(this,e),this.defaults={itemsContainerClass:".items_container",paginationContainerClass:".pagination_container",itemsView:"row_view",wrapAround:!0,showPrevNext:!0,showFirstLast:!0,defaultClass:"defaultclass",firstAreaLabel:"First",prevAreaLabel:"Prev",nextAreaLabel:"Next",lastAreaLabel:"Last",pageLinkAreaLabel:[],hasEllips:!0,paginationOrder:["first","prev","num","next","last"],paginationSelector:".pagination",startpageNum:0,visiblePageCount:4,activeClass:"active",disabledClass:"disabled",onLinkClick:function e(t){},onFirstClick:function e(t){},onLastClick:function e(t){},onPrevClick:function e(t){},onNextClick:function e(t){},onMoreClick:function e(t){},onLessClick:function e(t){}},this._currentPage=this.defaults.startpageNum}return _createClass(e,[{key:"getCurrentPage",get:function e(){return this._currentPage}},{key:"setCurrentPage",set:function e(t){return this._currentPage=t}},{key:"_optionsHandler",value:function e(t){if("object"!==_typeof(t)||Array.isArray(t)||null===t){if(void 0===t)console.group("%c Suggestion for Paginate javascript Library","color: black; background-color: #D6995B;padding: 5px;font-size:20px"),console.log("%c It Seems like you haven't provided the options object. \n If you want to change the default settings Please provide a Option object providing your disire settings on it as properties. \n Like below:\n var example_1 = new Paginate({\n containerSelector: '.example_1 .items', \n itemSelector: '.example_1 .items > div', \n navigationSelector: '.example_1 .page_navigation', \n itemsPerPage: 3 \n })","padding:10px"),console.groupEnd();else throw Error("Your provided value as Option must be an Object.")}else Object.assign(this.defaults,t)}},{key:"_isValidElementSelector",value:function e(t){try{document.createDocumentFragment().querySelector(t)}catch(a){return!1}return!0}},{key:"_selectArrayofElement",value:function e(t){if(this._isValidElementSelector(t)){if(0!=document.querySelectorAll(t).length)return document.querySelectorAll(t);throw Error("Your site doesn't contain any '".concat(t,"' selector. Please provide a valid selector."))}throw Error("'".concat(t,"' is not a valid css selector Please provide a valid one."))}},{key:"_selectSingleElement",value:function e(t){if(this._isValidElementSelector(t)){if(document.querySelector(t))return document.querySelector(t);throw Error("Your site doesn't contain any '".concat(t,"' selector. Please provide a valid selector."))}throw Error("'".concat(t,"' is not a valid css selector Please provide a valid one."))}},{key:"_checkElementOverflows",value:function e(t){return t.classList.contains("row_view")?t.offsetWidth<t.scrollWidth:t.classList.contains("column_view")?t.offsetHeight<t.scrollHeight:void 0}},{key:"_pageItemsHorizontalScrollEventCallback",value:function e(t){t.target.parentElement.scrollLeft+=3*t.deltaY}},{key:"_pageItemsHorizontalScroll",value:function e(t){t.classList.contains("row_view")&&t.addEventListener("wheel",this._pageItemsHorizontalScrollEventCallback,{passive:!0})}},{key:"_removePageItemsHorizontalScroll",value:function e(t){t.classList.contains("row_view")&&t.removeEventListener("wheel",this._pageItemsHorizontalScrollEventCallback)}},{key:"_pageItemsTouchScroll",value:function e(t){var a={startClintX:0,startClintY:0};this._mouseDownHandler=function(e){e.preventDefault(),a={startClintX:e.clientX,startClintY:e.clientY},t.addEventListener("mousemove",i),t.addEventListener("mouseup",n)};var i=function e(i){i.preventDefault(),t.style.cursor="grabbing",t.style.userSelect="none";var n=i.clientX-a.startClintX,s=i.clientY-a.startClintY;t.classList.contains("column_view")&&(t.scrollTop-=3*s),t.classList.contains("row_view")&&(t.scrollLeft-=3*n)},n=function e(a){a.preventDefault(),t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",e),t.style.cursor="grab",t.style.removeProperty("user-select")};t.addEventListener("mousedown",this._mouseDownHandler)}},{key:"_removePageItemsTouchScrollEvent",value:function e(t){t.removeEventListener("mousedown",this._mouseDownHandler)}},{key:"_handlePageScrollandTouchScrollDependingOverflows",value:function e(t){this._checkElementOverflows(t)?(t.style.justifyContent="flex-start",this._pageItemsHorizontalScroll(t),this._pageItemsTouchScroll(t)):(t.style.justifyContent="center",this._removePageItemsHorizontalScroll(t),this._removePageItemsTouchScrollEvent(t))}},{key:"_createPagination",value:function e(){var t='<div class="paginate_wrapper">';t+='<div class="items_container '.concat(this.defaults.itemsView,'"> </div>');var a=this.defaults.hasEllips?'<li class="pagination_item ellipse more"><span>...</span></li>':"",i=this.defaults.hasEllips?'<li class="pagination_item ellipse less"><span>...</span></li>':"",n=this.defaults.showFirstLast?'<li class="pagination_item paginaiton_first '.concat(this.defaults.defaultClass,'"><a href="" aria-label="').concat(this.defaults.firstAreaLabel,'" onclick="return false;">').concat(this.defaults.firstAreaLabel,"</a></li>"):"",s=this.defaults.showFirstLast?'<li class="pagination_item paginaiton_last '.concat(this.defaults.defaultClass,'"><a href="" aria-label="').concat(this.defaults.lastAreaLabel,'" onclick="return false;">').concat(this.defaults.lastAreaLabel,"</a></li>"):"",l=this.defaults.showPrevNext?'<li class="pagination_item paginaiton_prev '.concat(this.defaults.defaultClass,'"><a href="" aria-label="').concat(this.defaults.prevAreaLabel,'" onclick="return false;">').concat(this.defaults.prevAreaLabel,"</a></li>"):"",r=this.defaults.showPrevNext?'<li class="pagination_item paginaiton_next '.concat(this.defaults.defaultClass,'"><a href="" aria-label="').concat(this.defaults.nextAreaLabel,'" onclick="return false;">').concat(this.defaults.nextAreaLabel,"</a></li>"):"",o=' <div id="pagination_container"><ul class="pagination_wrapper">';return this.defaults.paginationOrder.forEach(function(e){switch(e){case"first":this.pageCount>this.defaults.visiblePageCount&&(o+=n);break;case"prev":this.pageCount>this.defaults.visiblePageCount&&(o+=l);break;case"next":this.pageCount>this.defaults.visiblePageCount&&(o+=r);break;case"last":this.pageCount>this.defaults.visiblePageCount&&(o+=s);break;case"num":this.defaults.hasEllips&&this.pageCount>this.defaults.visiblePageCount&&(o+=i);for(var t=0;t<=this.pageCount-1;){var c="";switch(t){case 0:c="first_num_link";break;case this.pageCount-1:c="last_num_link"}o+='<li class="pagination_item '.concat(this.defaults.defaultClass," data-item ").concat(c,'" aria-label="').concat(t,'"><a href="#" onclick="return false">').concat(Array.isArray(this.defaults.pageLinkAreaLabel)&&this.defaults.pageLinkAreaLabel[t]||t+1,"</a></li>"),t++}this.defaults.hasEllips&&this.pageCount>this.defaults.visiblePageCount&&(o+=a)}},this),t+(o+"</ul></div>")+"</div>"}},{key:"_hideAllShowSpecificPaginationItems",value:function e(t){t.forEach(function(e,t){t<this.defaults.startpageNum||t>this.defaults.startpageNum+(this.defaults.visiblePageCount-1)?e.style.display="none":e.style.display="list-item"},this)}},{key:"_makePaginationBtnDisable",value:function e(){this._currentPage<=this.defaults.visiblePageCount-1?this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.less").style.display="none":this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.less").style.display="list-item",this._currentPage>=this.pageCount-1-this.defaults.visiblePageCount?this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.more").style.display="none":this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.more").style.display="list-item",this.defaults.wrapAround||(this._currentPage<=0?(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_prev").style.display="none",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_first").style.display="none"):(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_prev").style.display="list-item",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_first").style.display="list-item"),this._currentPage>=this.pageCount-1?(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_next").style.display="none",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_last").style.display="none"):(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_next").style.display="list-item",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_last").style.display="list-item"))}},{key:"_setActiveLink",value:function e(t){t.forEach(function(e,t){this._currentPage==t?e.classList.add(this.defaults.activeClass):e.classList.remove(this.defaults.activeClass)},this)}},{key:"_firstClickHandler",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_first"),n=this;i.addEventListener("click",function(e){n.defaults.onFirstClick.call(n,e),n._currentPage=0,0!=n.defaults.startpageNum&&(n.defaults.startpageNum=0,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})}},{key:"_prevClickHandler",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_prev"),n=this;i.addEventListener("click",function(e){n.defaults.onPrevClick.call(n,e),n._currentPage<n.pageCount&&n._currentPage>=1?(n._currentPage--,n._currentPage<n.defaults.startpageNum&&(n.defaults.startpageNum--,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()):n._currentPage<=0&&n.defaults.wrapAround&&(n.defaults.startpageNum=n.pageCount-n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._currentPage=n.pageCount-1,n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable())})}},{key:"_ellipseMoreClickHandler",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.ellipse.more"),n=this;i.addEventListener("click",function(e){n.defaults.onMoreClick.call(n,e),n.defaults.startpageNum+n.defaults.visiblePageCount>n.pageCount-1-n.defaults.visiblePageCount?n.defaults.startpageNum+=(n.pageCount-1)%n.defaults.visiblePageCount-1:n.defaults.startpageNum+=n.defaults.visiblePageCount,n._currentPage+n.defaults.visiblePageCount>n.pageCount-1?n._currentPage+=(n.pageCount-1)%n.defaults.visiblePageCount-1:n._currentPage+=n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})}},{key:"_ellipseLessClickHandler",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.ellipse.less"),n=this;i.addEventListener("click",function(e){n.defaults.onLessClick.call(n,e),n.defaults.startpageNum<n.defaults.visiblePageCount?n.defaults.startpageNum-=n.defaults.startpageNum%n.defaults.visiblePageCount:n.defaults.startpageNum-=n.defaults.visiblePageCount,n._currentPage<n.defaults.visiblePageCount?n._currentPage-=n._currentPage%n.defaults.visiblePageCount-1:n._currentPage-=n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})}},{key:"_numElemClickHandler",value:function e(t,a){var i=this;t.forEach(function(e,n){var s=i;e.addEventListener("click",function(e){s.defaults.onLinkClick.call(s,e),s._currentPage=n,s._createRenderPageItems(a,s._currentPage),s._setActiveLink(t),s._makePaginationBtnDisable()})},this)}},{key:"_nextClickHander",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_next"),n=this;i.addEventListener("click",function(e){n.defaults.onNextClick.call(n,e),n._currentPage<n.pageCount-1&&n._currentPage>=0?(n._currentPage++,n._currentPage>=n.defaults.startpageNum+n.defaults.visiblePageCount&&(n.defaults.startpageNum++,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()):n._currentPage>=n.pageCount-1&&n.defaults.wrapAround&&(n.defaults.startpageNum=0,n._hideAllShowSpecificPaginationItems(t),n._currentPage=0,n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable())})}},{key:"_lastClickHandler",value:function e(t,a){var i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_last"),n=this;i.addEventListener("click",function(e){n.defaults.onLastClick.call(n,e),n._currentPage=n.pageCount-1,n.defaults.startpageNum!=n.pageCount-n.defaults.visiblePageCount&&(n.defaults.startpageNum=n.pageCount-n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})}}]),e}(),ProPaginate=function(e){_inherits(a,e);var t=_createSuper(a);function a(e){var i;return _classCallCheck(this,a),(i=t.call(this)).defaults=Object.assign(i.defaults,{mainContainerSelector:"#paginate",data:[],dataItemsArrayPath:"",dataItemHtml:"",showAlldataOnce:!1,visibleDataonce:5,showMoreAreaLabel:"Show More",showMoreClass:"show_more",mainDataArrayEmptyErrorHtml:"",singleDataItemArrayEmptyErrorHtml:"",onShowMoreClick:function e(){}}),i._optionsHandler(e),i.setCurrentPage=i.defaults.startpageNum,i._init(),i}return _createClass(a,[{key:"_init",value:function e(){this.mainContainer=this._selectArrayofElement(this.defaults.mainContainerSelector),this._isDataValid()&&this.mainContainer.forEach(function(e){if(0==this.defaults.data.length){e.innerHTML=this.defaults.mainDataArrayEmptyErrorHtml||"<div>no data found.</div>";return}this.pageCount=this.defaults.data.length;var t=this._createPagination();e.innerHTML=t;var a=this._selectArrayofElement("#pagination_container .data-item");this._hideAllShowSpecificPaginationItems(a),this._setActiveLink(a),this._makePaginationBtnDisable();var i=this._selectSingleElement(".paginate_wrapper .items_container");this._createRenderPageItems(i,this._currentPage),this._numElemClickHandler(a,i),this._firstClickHandler(a,i),this._prevClickHandler(a,i),this._nextClickHander(a,i),this._lastClickHandler(a,i),this._ellipseMoreClickHandler(a,i),this._ellipseLessClickHandler(a,i)},this)}},{key:"_stringToTamplateGet",value:function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"${".concat(t,"}");return t.split(".").reduce(function(e,t){return e[t]||i},a)}},{key:"_stringToTamplateParser",value:function e(t,a,i){var n=this;return t.replace(/\$\{.+?}/g,function(e){var t=e.substr(2,e.length-3).trim();return n._stringToTamplateGet(t,a,i)})}},{key:"_isDataValid",value:function e(){if(Array.isArray(this.defaults.data))return!0;throw Error("your data should be an array.")}},{key:"_createRenderPageItems",value:function e(t,a){var i,n=(null===(i=this.defaults.data[a])||void 0===i?void 0:i[this.defaults.dataItemsArrayPath])||[];if(n.length>0){for(var s=this.defaults.showAlldataOnce?n.length:Math.min(this.defaults.visibleDataonce,n.length),l="",r=0;r<s;r++)l+=this._stringToTamplateParser(this.defaults.dataItemHtml,n[r]);if(t.innerHTML=l,this._handlePageScrollandTouchScrollDependingOverflows(t),n.length>this.defaults.visibleDataonce)!this.isShowMoreSectionExist&&(this._createRenderShowMore(t),this._selectSingleElement(".paginate_wrapper .show_more_btn").addEventListener("click",this._showMoreClickEventCallback.bind(this)));else if(this.isShowMoreSectionExist){var o=this._selectSingleElement(".paginate_wrapper .show_more_btn");o.removeEventListener("click",this._showMoreClickEventCallback.bind(this)),o.remove(),this.isShowMoreSectionExist=!1}}else t.innerHTML=this.defaults.singleDataItemArrayEmptyErrorHtml||"<div>No data available in this page.</div>"}},{key:"_createRenderShowMore",value:function e(t){var a='<div class="show_more_btn '.concat(this.defaults.showMoreClass,' hidden"><span>').concat(this.defaults.showMoreAreaLabel,"</span></div>");this.defaults.showAlldataOnce||t.insertAdjacentHTML("afterend",a),this.isShowMoreSectionExist=!0,this._showHideShowMore(t)}},{key:"_showHideShowMoreScrollEventCallback",value:function e(t){if(this.isShowMoreSectionExist){var a=this._selectSingleElement(".paginate_wrapper .show_more_btn");t.target.classList.contains("column_view")?t.target.scrollHeight-20<=t.target.scrollTop+t.target.clientHeight?a.classList.remove("hidden"):a.classList.add("hidden"):t.target.classList.contains("row_view")&&(t.target.scrollWidth-20<=t.target.scrollLeft+t.target.clientWidth?a.classList.remove("hidden"):a.classList.add("hidden"))}}},{key:"_showHideShowMore",value:function e(t){if(this._checkElementOverflows(t))t.addEventListener("scroll",this._showHideShowMoreScrollEventCallback.bind(this));else if(this.isShowMoreSectionExist){var a=this._selectSingleElement(".paginate_wrapper .show_more_btn");a.classList.contains("hidden")&&a.classList.remove("hidden")}}},{key:"_addMorePageItems",value:function e(t){for(var a=this._selectSingleElement(".paginate_wrapper .items_container"),i=a.querySelectorAll("div.data_item").length,n=this.defaults.data[this._currentPage][this.defaults.dataItemsArrayPath],s=n.length-i<t?n.length-1:i-1+t,l=i-1;l<s;l++){var r=this._stringToTamplateParser(this.defaults.dataItemHtml,n[l]);a.insertAdjacentHTML("beforeend",r)}a.querySelectorAll("div.data_item").length>=n.length&&this.isShowMoreSectionExist?(this._selectSingleElement(".paginate_wrapper .show_more_btn").remove(),this.isShowMoreSectionExist=!1):this._selectSingleElement(".paginate_wrapper .show_more_btn").classList.add("hidden"),this._handlePageScrollandTouchScrollDependingOverflows(a)}},{key:"_showMoreClickEventCallback",value:function e(t){this.defaults.visibleDataonce<5&&this.defaults.visibleDataonce>0?this._addMorePageItems(this.defaults.visibleDataonce):this.defaults.visibleDataonce>=5&&this._addMorePageItems(Math.round(this.defaults.visibleDataonce/2))}}]),a}(Paginate);