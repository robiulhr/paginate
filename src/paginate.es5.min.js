/*
 * A open source pagination plugin using pure Javascript.
 * v1.0.0
 *
 * @copyright	Copyright (c) 2023 Robiul H.
 * @license	MIT License; see LICENSE.txt
*/
function Paginate(){this.defaults={itemsContainerClass:".items_container",paginationContainerClass:".pagination_container",itemsView:"row_view",wrapAround:!0,showPrevNext:!0,showFirstLast:!0,defaultClass:"defaultclass",firstAreaLabel:"First",prevAreaLabel:"Prev",nextAreaLabel:"Next",lastAreaLabel:"Last",pageLinkAreaLabel:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],hasEllips:!0,paginationOrder:["first","prev","num","next","last"],paginationSelector:".pagination",startpageNum:0,visiblePageCount:4,activeClass:"active",disabledClass:"disabled",onLinkClick:function(e){},onFirstClick:function(e){},onLastClick:function(e){},onPrevClick:function(e){},onNextClick:function(e){},onMoreClick:function(e){},onLessClick:function(e){}},this._currentPage=this.defaults.startpageNum}Object.assign(Paginate.prototype,{getCurrentPage:function e(){return this._currentPage},setCurrentPage:function e(t){return this._currentPage=t},_optionsHandler:function e(t){if("object"!=typeof t||Array.isArray(t)||null===t){if(void 0===t)console.group("%c Suggestion for Paginate javascript Library","color: black; background-color: #D6995B;padding: 5px;font-size:20px"),console.log("%c It Seems like you haven't provided the options object. \n If you want to change the default settings Please provide a Option object providing your disire settings on it as properties. \n Like below:\n var example_1 = new Paginate({\n containerSelector: '.example_1 .items', \n itemSelector: '.example_1 .items > div', \n navigationSelector: '.example_1 .page_navigation', \n itemsPerPage: 3 \n })","padding:10px"),console.groupEnd();else throw Error("Your provided value as Option must be an Object.")}else Object.assign(this.defaults,t)},_isValidElementSelector:function e(t){try{document.createDocumentFragment().querySelector(t)}catch{return!1}return!0},_selectArrayofElement:function e(t){if(this._isValidElementSelector(t)){if(0!=document.querySelectorAll(t).length)return document.querySelectorAll(t);throw Error(`Your site doesn't contain any '${t}' selector. Please provide a valid selector.`)}throw Error(`'${t}' is not a valid css selector Please provide a valid one.`)},_selectSingleElement:function e(t){if(this._isValidElementSelector(t)){if(document.querySelector(t))return document.querySelector(t);throw Error(`Your site doesn't contain any '${t}' selector. Please provide a valid selector.`)}throw Error(`'${t}' is not a valid css selector Please provide a valid one.`)},_checkElementOverflows:function e(t){return t.classList.contains("row_view")?t.offsetWidth<t.scrollWidth:t.classList.contains("column_view")?t.offsetHeight<t.scrollHeight:void 0},_pageItemsHorizontalScrollEventCallback:function e(t){t.target.parentElement.scrollLeft+=3*t.deltaY},_pageItemsHorizontalScroll:function e(t){t.classList.contains("row_view")&&t.addEventListener("wheel",this._pageItemsHorizontalScrollEventCallback,{passive:!0})},_removePageItemsHorizontalScroll:function e(t){t.classList.contains("row_view")&&t.removeEventListener("wheel",this._pageItemsHorizontalScrollEventCallback)},_pageItemsTouchScroll:function e(t){let a={startClintX:0,startClintY:0};this._mouseDownHandler=function(e){e.preventDefault(),a={startClintX:e.clientX,startClintY:e.clientY},t.addEventListener("mousemove",i),t.addEventListener("mouseup",n)};let i=function(e){e.preventDefault(),t.style.cursor="grabbing",t.style.userSelect="none";let i=e.clientX-a.startClintX,n=e.clientY-a.startClintY;t.classList.contains("column_view")&&(t.scrollTop-=3*n),t.classList.contains("row_view")&&(t.scrollLeft-=3*i)},n=function(e){e.preventDefault(),t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",n),t.style.cursor="grab",t.style.removeProperty("user-select")};t.addEventListener("mousedown",this._mouseDownHandler)},_removePageItemsTouchScrollEvent:function e(t){t.removeEventListener("mousedown",this._mouseDownHandler)},_handlePageScrollandTouchScrollDependingOverflows:function e(t){this._checkElementOverflows(t)?(t.style.justifyContent="flex-start",this._pageItemsHorizontalScroll(t),this._pageItemsTouchScroll(t)):(t.style.justifyContent="center",this._removePageItemsHorizontalScroll(t),this._removePageItemsTouchScrollEvent(t))},_createPagination:function e(){let t='<div class="paginate_wrapper">';t+=`<div class="items_container ${this.defaults.itemsView}"> </div>`;let a=this.defaults.hasEllips?'<li class="pagination_item ellipse more"><span>...</span></li>':"",i=this.defaults.hasEllips?'<li class="pagination_item ellipse less"><span>...</span></li>':"",n=this.defaults.showFirstLast?`<li class="pagination_item paginaiton_first ${this.defaults.defaultClass}"><a href="" aria-label="${this.defaults.firstAreaLabel}" onclick="return false;">${this.defaults.firstAreaLabel}</a></li>`:"",s=this.defaults.showFirstLast?`<li class="pagination_item paginaiton_last ${this.defaults.defaultClass}"><a href="" aria-label="${this.defaults.lastAreaLabel}" onclick="return false;">${this.defaults.lastAreaLabel}</a></li>`:"",l=this.defaults.showPrevNext?`<li class="pagination_item paginaiton_prev ${this.defaults.defaultClass}"><a href="" aria-label="${this.defaults.prevAreaLabel}" onclick="return false;">${this.defaults.prevAreaLabel}</a></li>`:"",o=this.defaults.showPrevNext?`<li class="pagination_item paginaiton_next ${this.defaults.defaultClass}"><a href="" aria-label="${this.defaults.nextAreaLabel}" onclick="return false;">${this.defaults.nextAreaLabel}</a></li>`:"",r=' <div id="pagination_container"><ul class="pagination_wrapper">';return this.defaults.paginationOrder.forEach(function(e){switch(e){case"first":r+=n;break;case"prev":r+=l;break;case"next":r+=o;break;case"last":r+=s;break;case"num":this.defaults.hasEllips&&(r+=i);let t=0;for(;t<=this.pageCount-1;){let c="";switch(t){case 0:c="first_num_link";break;case this.pageCount-1:c="last_num_link"}r+=`<li class="pagination_item ${this.defaults.defaultClass} data-item ${c}" aria-label="${t}"><a href="#" onclick="return false">${Array.isArray(this.defaults.pageLinkAreaLabel)&&this.defaults.pageLinkAreaLabel[t]||t+1}</a></li>`,t++}this.defaults.hasEllips&&(r+=a)}},this),t+(r+"</ul></div>")+"</div>"},_hideAllShowSpecificPaginationItems:function e(t){t.forEach(function(e,t){t<this.defaults.startpageNum||t>this.defaults.startpageNum+(this.defaults.visiblePageCount-1)?e.style.display="none":e.style.display="list-item"},this)},_makePaginationBtnDisable:function e(){this._currentPage<=this.defaults.visiblePageCount-1?this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.less").style.display="none":this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.less").style.display="list-item",this._currentPage>=this.pageCount-1-this.defaults.visiblePageCount?this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.more").style.display="none":this._selectSingleElement(".paginate_wrapper .pagination_item.ellipse.more").style.display="list-item",this.defaults.wrapAround||(this._currentPage<=0?(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_prev").style.display="none",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_first").style.display="none"):(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_prev").style.display="list-item",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_first").style.display="list-item"),this._currentPage>=this.pageCount-1?(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_next").style.display="none",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_last").style.display="none"):(this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_next").style.display="list-item",this._selectSingleElement(".paginate_wrapper .pagination_item.paginaiton_last").style.display="list-item"))},_setActiveLink:function e(t){t.forEach(function(e,t){this._currentPage==t?e.classList.add(this.defaults.activeClass):e.classList.remove(this.defaults.activeClass)},this)},_firstClickHandler:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_first"),n=this;i.addEventListener("click",function(e){n.defaults.onFirstClick.call(n,e),n._currentPage=0,0!=n.defaults.startpageNum&&(n.defaults.startpageNum=0,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})},_prevClickHandler:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_prev"),n=this;i.addEventListener("click",function(e){n.defaults.onPrevClick.call(n,e),n._currentPage<n.pageCount&&n._currentPage>=1?(n._currentPage--,n._currentPage<n.defaults.startpageNum&&(n.defaults.startpageNum--,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()):n._currentPage<=0&&n.defaults.wrapAround&&(n.defaults.startpageNum=n.pageCount-n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._currentPage=n.pageCount-1,n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable())})},_ellipseMoreClickHandler:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.ellipse.more"),n=this;i.addEventListener("click",function(e){n.defaults.onMoreClick.call(n,e),n.defaults.startpageNum+n.defaults.visiblePageCount>n.pageCount-1-n.defaults.visiblePageCount?n.defaults.startpageNum+=(n.pageCount-1)%n.defaults.visiblePageCount-1:n.defaults.startpageNum+=n.defaults.visiblePageCount,n._currentPage+n.defaults.visiblePageCount>n.pageCount-1?n._currentPage+=(n.pageCount-1)%n.defaults.visiblePageCount-1:n._currentPage+=n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})},_ellipseLessClickHandler:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.ellipse.less"),n=this;i.addEventListener("click",function(e){n.defaults.onLessClick.call(n,e),n.defaults.startpageNum<n.defaults.visiblePageCount?n.defaults.startpageNum-=n.defaults.startpageNum%n.defaults.visiblePageCount:n.defaults.startpageNum-=n.defaults.visiblePageCount,n._currentPage<n.defaults.visiblePageCount?n._currentPage-=n._currentPage%n.defaults.visiblePageCount-1:n._currentPage-=n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})},_numElemClickHandler:function e(t,a){t.forEach((e,i)=>{let n=this;e.addEventListener("click",function(e){n.defaults.onLinkClick.call(n,e),n._currentPage=i,n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})},this)},_nextClickHander:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_next"),n=this;i.addEventListener("click",function(e){n.defaults.onNextClick.call(n,e),n._currentPage<n.pageCount-1&&n._currentPage>=0?(n._currentPage++,n._currentPage>=n.defaults.startpageNum+n.defaults.visiblePageCount&&(n.defaults.startpageNum++,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()):n._currentPage>=n.pageCount-1&&n.defaults.wrapAround&&(n.defaults.startpageNum=0,n._hideAllShowSpecificPaginationItems(t),n._currentPage=0,n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable())})},_lastClickHandler:function e(t,a){let i=this._selectSingleElement(".pagination_wrapper .pagination_item.paginaiton_last"),n=this;i.addEventListener("click",function(e){n.defaults.onLastClick.call(n,e),n._currentPage=n.pageCount-1,n.defaults.startpageNum!=n.pageCount-n.defaults.visiblePageCount&&(n.defaults.startpageNum=n.pageCount-n.defaults.visiblePageCount,n._hideAllShowSpecificPaginationItems(t)),n._createRenderPageItems(a,n._currentPage),n._setActiveLink(t),n._makePaginationBtnDisable()})}});const dummyData=[{month:"jan",data:[{_date:"Jan 20",location:"Chattagram"},]},{month:"feb",data:[{_date:"feb 20",location:"Chattagram"},]},{month:"march",data:[{_date:"march 12",location:"Dhaka"},]},{month:"apr",data:[{_date:"apr 12",location:"Dhaka"},{_date:"apr 32",location:"Dhaka"},]},{month:"may",data:[{_date:"may 5",location:"Dhaka"},{_date:"may 25",location:"Dhaka"},]},{month:"jun",data:[{_date:"jun 4",location:"Dhaka"},{_date:"jun 24",location:"Dhaka"},]},{month:"jul",data:[{_date:"jul 5",location:"Dhaka"},{_date:"jul 3",location:"Dhaka"},{_date:"jul 25",location:"Dhaka"},]},{month:"aug",data:[{_date:"aug 4",location:"Dhaka"},{_date:"aug 3",location:"Dhaka"},{_date:"aug 11",location:"Dhaka"},{_date:"aug 13",location:"Dhaka"},]},{month:"sep",data:[{_date:"sep 3",location:"Dhaka"},{_date:"sep 2",location:"Dhaka"},{_date:"sep 6",location:"Dhaka"},{_date:"sep 6",location:"Dhaka"},{_date:"sep 5",location:"Dhaka"},]},{month:"oct",data:[{_date:"oct 3",location:"Dhaka"},{_date:"oct 23",location:"Dhaka"},{_date:"oct 13",location:"Dhaka"},{_date:"oct 23",location:"Dhaka"},{_date:"oct 3",location:"Dhaka"},{_date:"oct 13",location:"Dhaka"},]},{month:"nov",data:[{_date:"nov 2",location:"Dhaka"},{_date:"nov 2",location:"Dhaka"},{_date:"nov 22",location:"Dhaka"},{_date:"nov 2",location:"Dhaka"},{_date:"nov 22",location:"Dhaka"},{_date:"nov 22",location:"Dhaka"},{_date:"nov 2",location:"Dhaka"},{_date:"nov 22",location:"Dhaka"},{_date:"nov 2",location:"Dhaka"},]},{month:"dec",data:[{_date:"dec 5",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 16",location:"Dhaka"},{_date:"dec 5",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 16",location:"Dhaka"},{_date:"dec 5",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 5",location:"Dhaka"},{_date:"dec 16",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 16",location:"Dhaka"},{_date:"dec 16",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 5",location:"Dhaka"},{_date:"dec 15",location:"Dhaka"},{_date:"dec 5",location:"Dhaka"},]},];function ProPaginate(e){Paginate.call(this),this.defaults=Object.assign(this.defaults,{mainContainerSelector:"#paginate",data:dummyData,dataItemsArrayPath:"data",dataItemHtml:'<div class="data_item"><div class="data_item_details"><span class="data_item_date">${_date}</span><span class="data_item_location">${location}</span></div></div>',showAlldataOnce:!1,visibleDataonce:5,showMoreAreaLabel:"Show More",showMoreClass:"show_more",onShowMoreClick:function(){}}),this._optionsHandler(e),this.setCurrentPage=this.defaults.startpageNum,this._init()}ProPaginate.prototype=Object.create(Paginate.prototype),Object.assign(ProPaginate.prototype,{_init:function e(){this.mainContainer=this._selectArrayofElement(this.defaults.mainContainerSelector),this._isDataValid()&&this.mainContainer.forEach(function(e){this.pageCount=this.defaults.data.length;let t=this._createPagination(this.pageCount);e.innerHTML=t;let a=this._selectArrayofElement("#pagination_container .data-item");this._hideAllShowSpecificPaginationItems(a),this._setActiveLink(a),this._makePaginationBtnDisable();let i=this._selectSingleElement(".paginate_wrapper .items_container");this._createRenderPageItems(i,this._currentPage),this._numElemClickHandler(a,i),this._firstClickHandler(a,i),this._prevClickHandler(a,i),this._nextClickHander(a,i),this._lastClickHandler(a,i),this._ellipseMoreClickHandler(a,i),this._ellipseLessClickHandler(a,i)},this)},_stringToTamplateGet:function e(t,a,i=`$\{${t}}`){return t.split(".").reduce((e,t)=>e[t]||i,a)},_stringToTamplateParser:function e(t,a,i){return t.replace(/\$\{.+?}/g,e=>{let t=e.substr(2,e.length-3).trim();return this._stringToTamplateGet(t,a,i)})},_isDataValid:function e(){if(Array.isArray(this.defaults.data)){if(0!=this.defaults.data.length)return!0;throw Error("please provide some data.")}throw Error("your data should be an array.")},_createRenderPageItems:function e(t,a){let i=this.defaults.data[a][this.defaults.dataItemsArrayPath],n=this.defaults.showAlldataOnce?i.length:Math.min(this.defaults.visibleDataonce,i.length),s="";for(let l=0;l<n;l++){let o=this._stringToTamplateParser(this.defaults.dataItemHtml,i[l]);s+=o}if(t.innerHTML=s,this._handlePageScrollandTouchScrollDependingOverflows(t),i.length>this.defaults.visibleDataonce){if(!this.isShowMoreSectionExist){this._createRenderShowMore(t);let r=this._selectSingleElement(".paginate_wrapper .show_more_btn");r.addEventListener("click",this._showMoreClickEventCallback.bind(this))}}else if(this.isShowMoreSectionExist){let c=this._selectSingleElement(".paginate_wrapper .show_more_btn");c.removeEventListener("click",this._showMoreClickEventCallback.bind(this)),c.remove(),this.isShowMoreSectionExist=!1}},_createRenderShowMore:function e(t){let a=`<div class="show_more_btn ${this.defaults.showMoreClass} hidden"><span>${this.defaults.showMoreAreaLabel}</span></div>`;this.defaults.showAlldataOnce||t.insertAdjacentHTML("afterend",a),this.isShowMoreSectionExist=!0,this._showHideShowMore(t)},_showHideShowMoreScrollEventCallback:function e(t){if(this.isShowMoreSectionExist){let a=this._selectSingleElement(".paginate_wrapper .show_more_btn");t.target.classList.contains("column_view")?t.target.scrollHeight-20<=t.target.scrollTop+t.target.clientHeight?a.classList.remove("hidden"):a.classList.add("hidden"):t.target.classList.contains("row_view")&&(t.target.scrollWidth-20<=t.target.scrollLeft+t.target.clientWidth?a.classList.remove("hidden"):a.classList.add("hidden"))}},_showHideShowMore:function e(t){if(this._checkElementOverflows(t))t.addEventListener("scroll",this._showHideShowMoreScrollEventCallback.bind(this));else if(this.isShowMoreSectionExist){let a=this._selectSingleElement(".paginate_wrapper .show_more_btn");a.classList.contains("hidden")&&a.classList.remove("hidden")}},_addMorePageItems:function e(t){let a=this._selectSingleElement(".paginate_wrapper .items_container"),i=a.querySelectorAll("div.data_item").length,n=this.defaults.data[this._currentPage][this.defaults.dataItemsArrayPath],s=n.length-i<t?n.length-1:i-1+t;for(let l=i-1;l<s;l++){let o=this._stringToTamplateParser(this.defaults.dataItemHtml,n[l]);a.insertAdjacentHTML("beforeend",o)}a.querySelectorAll("div.data_item").length>=n.length&&this.isShowMoreSectionExist?(this._selectSingleElement(".paginate_wrapper .show_more_btn").remove(),this.isShowMoreSectionExist=!1):this._selectSingleElement(".paginate_wrapper .show_more_btn").classList.add("hidden"),this._handlePageScrollandTouchScrollDependingOverflows(a)},_showMoreClickEventCallback:function e(t){this.defaults.visibleDataonce<5&&this.defaults.visibleDataonce>0?this._addMorePageItems(this.defaults.visibleDataonce):this.defaults.visibleDataonce>=5&&this._addMorePageItems(Math.round(this.defaults.visibleDataonce/2))},constructor:ProPaginate});